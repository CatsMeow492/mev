(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[641],{2067:e=>{"use strict";e.exports=require("node:async_hooks")},6195:e=>{"use strict";e.exports=require("node:buffer")},1508:(e,t,o)=>{"use strict";o.r(t),o.d(t,{ComponentMod:()=>b,default:()=>S});var s={};o.r(s),o.d(s,{GET:()=>d,OPTIONS:()=>p,POST:()=>w,runtime:()=>u});var n={};o.r(n),o.d(n,{originalPathname:()=>O,patchFetch:()=>T,requestAsyncStorage:()=>A,routeModule:()=>h,serverHooks:()=>k,staticGenerationAsyncStorage:()=>g});var r=o(932),a=o(2561),l=o(4828),c=o(6631),i=o(9985);let u="edge";async function d(e){let{searchParams:t}=new URL(e.url),o=t.get("path")||"",s=`ws://localhost:8080/ws/${o}`,n=new Headers;return n.set("Access-Control-Allow-Origin","*"),n.set("Access-Control-Allow-Methods","GET, POST, OPTIONS"),n.set("Access-Control-Allow-Headers","Content-Type, Authorization"),i.xk.json({websocketUrl:s,protocol:"websocket",timestamp:new Date().toISOString(),path:o},{status:200,headers:n})}async function w(e){let{searchParams:t}=new URL(e.url),o=t.get("path")||"";await e.json();let s=e.headers.get("Authorization");if(s&&!(s&&s.startsWith("Bearer ")&&s.slice(7).length>10))return i.xk.json({error:"Invalid authentication token"},{status:401});let n=`ws://localhost:8080/ws/${o}`,r=new Headers;return r.set("Access-Control-Allow-Origin","*"),r.set("Access-Control-Allow-Methods","GET, POST, OPTIONS"),r.set("Access-Control-Allow-Headers","Content-Type, Authorization"),i.xk.json({websocketUrl:n,protocol:"websocket",authenticated:!!s,timestamp:new Date().toISOString(),path:o,connectionId:`conn_${Date.now()}_${Math.random().toString(36).substr(2,9)}`},{status:200,headers:r})}async function p(e){let t=new Headers;return t.set("Access-Control-Allow-Origin","*"),t.set("Access-Control-Allow-Methods","GET, POST, OPTIONS"),t.set("Access-Control-Allow-Headers","Content-Type, Authorization"),new Response(null,{status:200,headers:t})}let h=new a.AppRouteRouteModule({definition:{kind:l.x.APP_ROUTE,page:"/api/edge/websocket/route",pathname:"/api/edge/websocket",filename:"route",bundlePath:"app/api/edge/websocket/route"},resolvedPagePath:"/Users/taylormohney/Documents/GitHub/MEVDemo/web/dashboard/src/app/api/edge/websocket/route.ts",nextConfigOutput:"standalone",userland:s}),{requestAsyncStorage:A,staticGenerationAsyncStorage:g,serverHooks:k}=h,O="/api/edge/websocket/route";function T(){return(0,c.XH)({serverHooks:k,staticGenerationAsyncStorage:g})}let b=n,S=r.a.wrap(h)}},e=>{var t=t=>e(e.s=t);e.O(0,[520],()=>t(1508));var o=e.O();(_ENTRIES="undefined"==typeof _ENTRIES?{}:_ENTRIES)["middleware_app/api/edge/websocket/route"]=o}]);
//# sourceMappingURL=route.js.map