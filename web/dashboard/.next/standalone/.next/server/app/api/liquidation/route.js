"use strict";(()=>{var e={};e.id=115,e.ids=[115],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},5194:(e,t,a)=>{a.r(t),a.d(t,{originalPathname:()=>x,patchFetch:()=>h,requestAsyncStorage:()=>b,routeModule:()=>m,serverHooks:()=>f,staticGenerationAsyncStorage:()=>g});var o={};a.r(o),a.d(o,{GET:()=>d,POST:()=>p});var i=a(9303),r=a(8716),s=a(670),n=a(7070);let c=[{id:"liq-001",strategy:"liquidation",targetTx:"0x742d35cc6634c0532925a3b8d265ab32be9c6ca1",expectedProfit:"450000000000000000000",gasCost:"30000000000000000000",netProfit:"420000000000000000000",confidence:.92,status:"validated",createdAt:new Date(Date.now()-5e3).toISOString(),executionTxs:[],blockNumber:1895e4,protocol:"aave_v2",borrower:"0x742d35Cc6634C0532925a3b8D265AB32Be9C6CA1",collateralToken:"WETH",debtToken:"USDC",collateralAmount:"5000000000000000000",debtAmount:"8000000000",healthFactor:.85,liquidationBonus:"500000000000000000000",flashLoanFee:"9000000000000000000",riskScore:.25,validationScore:.92,expiresAt:new Date(Date.now()+3e5).toISOString()},{id:"liq-002",strategy:"liquidation",targetTx:"0x8ba1f109551bd432803012645bd57fbc74f86e2b",expectedProfit:"280000000000000000000",gasCost:"25000000000000000000",netProfit:"255000000000000000000",confidence:.87,status:"detected",createdAt:new Date(Date.now()-12e3).toISOString(),executionTxs:[],blockNumber:18950001,protocol:"compound_v2",borrower:"0x8ba1f109551bd432803012645bd57fbc74f86e2b",collateralToken:"WBTC",debtToken:"DAI",collateralAmount:"150000000",debtAmount:"45000000000000000000000",healthFactor:.92,liquidationBonus:"300000000000000000000",flashLoanFee:"20000000000000000000",riskScore:.18,validationScore:.87,expiresAt:new Date(Date.now()+24e4).toISOString()},{id:"liq-003",strategy:"liquidation",targetTx:"0x47ac0fb4f2d84898e4d9e7b4dab3c24507a6d503",expectedProfit:"750000000000000000000",gasCost:"40000000000000000000",netProfit:"710000000000000000000",confidence:.95,status:"profitable",createdAt:new Date(Date.now()-8e3).toISOString(),executionTxs:[],blockNumber:18950002,protocol:"aave_v3",borrower:"0x47ac0fb4f2d84898e4d9e7b4dab3c24507a6d503",collateralToken:"LINK",debtToken:"USDT",collateralAmount:"5000000000000000000000",debtAmount:"60000000000",healthFactor:.78,liquidationBonus:"800000000000000000000",flashLoanFee:"50000000000000000000",riskScore:.35,validationScore:.95,expiresAt:new Date(Date.now()+18e4).toISOString()}],l={totalOpportunities:3,averageProfit:"460000000000000000000",averageHealthFactor:.85,protocolDistribution:{aave_v2:1,aave_v3:1,compound_v2:1},riskDistribution:{low:1,medium:2,high:0,critical:0},flashLoanProviderUsage:{aave_v2:2,dydx:1,balancer:0}},u=[{name:"Aave V2",version:"2.0",chainId:1,isActive:!0,totalPositions:150,liquidatablePositions:1,totalCollateralValue:"15000000000000000000000000",totalDebtValue:"12000000000000000000000000",averageHealthFactor:1.75,lastUpdateTime:new Date().toISOString()},{name:"Aave V3",version:"3.0",chainId:1,isActive:!0,totalPositions:89,liquidatablePositions:1,totalCollateralValue:"8500000000000000000000000",totalDebtValue:"6800000000000000000000000",averageHealthFactor:1.68,lastUpdateTime:new Date().toISOString()},{name:"Compound V2",version:"2.0",chainId:1,isActive:!0,totalPositions:234,liquidatablePositions:1,totalCollateralValue:"22000000000000000000000000",totalDebtValue:"18500000000000000000000000",averageHealthFactor:1.82,lastUpdateTime:new Date().toISOString()}];async function d(e){try{let{searchParams:t}=new URL(e.url),a=t.get("type");switch(await new Promise(e=>setTimeout(e,100)),a){case"opportunities":return n.NextResponse.json({success:!0,data:c,timestamp:new Date().toISOString()});case"metrics":return n.NextResponse.json({success:!0,data:l,timestamp:new Date().toISOString()});case"protocols":return n.NextResponse.json({success:!0,data:u,timestamp:new Date().toISOString()});case"validation":if(!t.get("id"))return n.NextResponse.json({success:!1,error:"Missing opportunity ID"},{status:400});return n.NextResponse.json({success:!0,data:{isValid:!0,validationScore:.92,confidence:.89,profitabilityCheck:!0,healthFactorCheck:!0,collateralValueCheck:!0,flashLoanAvailabilityCheck:!0,riskAssessment:{overallRisk:.25,riskLevel:"medium",riskComponents:[{name:"health_factor_risk",score:.2,weight:.4,description:"Risk of health factor recovery before execution"},{name:"gas_risk",score:.3,weight:.3,description:"Risk of gas price spikes reducing profitability"},{name:"competition_risk",score:.4,weight:.2,description:"Risk of other liquidators executing first"},{name:"slippage_risk",score:.1,weight:.1,description:"Risk of slippage during collateral conversion"}]},recommendations:["Execute quickly due to moderate competition risk","Monitor gas prices for optimal execution timing","Use flash loan from dYdX for minimal fees"],estimatedExecutionTime:150},timestamp:new Date().toISOString()});default:return n.NextResponse.json({success:!0,data:{opportunities:c,metrics:l,protocols:u},timestamp:new Date().toISOString()})}}catch(e){return console.error("Liquidation API error:",e),n.NextResponse.json({success:!1,error:e instanceof Error?e.message:"Internal server error"},{status:500})}}async function p(e){try{let{opportunityId:t,executionMode:a="simulation"}=await e.json();if(!t)return n.NextResponse.json({success:!1,error:"Missing opportunity ID"},{status:400});return n.NextResponse.json({success:!0,data:{success:!0,mode:a,realizedProfit:"418000000000000000000",actualGasCost:"32000000000000000000",actualNetProfit:"386000000000000000000",executionTime:147,slippage:.008,submittedTxs:[{hash:"0x1234567890abcdef1234567890abcdef12345678",from:"0x742d35Cc6634C0532925a3b8D265AB32Be9C6CA1",to:"0x7d2768dE32b0b80b7a3454c06BdAc94A69DDc7A9",value:"0",gasPrice:"32000000000",gasLimit:4e5,data:"0x..."}]},timestamp:new Date().toISOString()})}catch(e){return console.error("Liquidation execution error:",e),n.NextResponse.json({success:!1,error:e instanceof Error?e.message:"Execution failed"},{status:500})}}let m=new i.AppRouteRouteModule({definition:{kind:r.x.APP_ROUTE,page:"/api/liquidation/route",pathname:"/api/liquidation",filename:"route",bundlePath:"app/api/liquidation/route"},resolvedPagePath:"/Users/taylormohney/Documents/GitHub/MEVDemo/web/dashboard/src/app/api/liquidation/route.ts",nextConfigOutput:"standalone",userland:o}),{requestAsyncStorage:b,staticGenerationAsyncStorage:g,serverHooks:f}=m,x="/api/liquidation/route";function h(){return(0,s.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:g})}}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),o=t.X(0,[276,972],()=>a(5194));module.exports=o})();